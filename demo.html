<!DOCTYPE html>
<html>
    <head>
        <title>Navigation View - Demo</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="src/fonts/segoe-fluent-icons/segoe-fluent-icons.css">
        <link rel="stylesheet" href="src/fonts/segoe-ui-variable/segoe-ui-variable.css">
        <style>
            * {
                font-family: 'Segoe UI Variable Text';
            }
        </style>
    </head>
    <body>
        <fluent-navigation-view id="navigation_view" pane-display-mode="left" icon-set="segoeFluentIcons">
            <fluent-navigation-view-menu-items>
                <fluent-navigation-view-item icon="Home" content="Home" tag="Home"></fluent-navigation-view-item>
                <fluent-navigation-view-item-header content="Actions"></fluent-navigation-view-item-header>
                <fluent-navigation-view-item icon="Contact" content="Account" tag="Account" selects-on-invoke="false">
                    <fluent-navigation-view-menu-items>
                        <fluent-navigation-view-item icon="Mail" content="Mail" tag="Mail"></fluent-navigation-view-item>
                        <fluent-navigation-view-item icon="Calendar" content="Calendar" tag="Calendar" active></fluent-navigation-view-item>
                    </fluent-navigation-view-menu-items>
                </fluent-navigation-view-item>
                <fluent-navigation-view-item icon="Page" content="Document options" tag="Document options"  selects-on-invoke="false">
                    <fluent-navigation-view-menu-items>
                        <fluent-navigation-view-item icon="NewFolder" content="Create new" tag="Create new"></fluent-navigation-view-item>
                        <fluent-navigation-view-item icon="OpenLocal" content="Upload file" tag="Upload file"></fluent-navigation-view-item>
                    </fluent-navigation-view-menu-items>
                </fluent-navigation-view-item>
            </fluent-navigation-view-menu-items>

            <div slot="content-frame">
                <div style="padding: 10px;">
                    <div>
                        <input type="radio" name="paneDisplayMode" value="leftcompact" id="leftcompact">
                        <label for="leftcompact">LeftCompact (Default)</label>
                    </div>
                    <div>
                        <input type="radio" name="paneDisplayMode" value="left" id="left" checked>
                        <label for="left">Left</label>
                    </div>
                </div>
                <div>
                    <label for="paneTitle">Pane Title:</label>
                    <input type="text" name="paneTitle" id="paneTitle" placeholder="Pane Title">
                </div>
                <button id="toggle_header">Toggle Header: TRUE</button>
                <button id="toggle_settings">Toggle Settings: TRUE</button>
            </div>
        </fluent-navigation-view>
    </body>

    <script>
        const segoeFluentIcons = [
            { name: 'Home', glyph: 'e80f' },
            { name: 'Contact', glyph: 'e77b' },
            { name: 'Mail', glyph: 'e715' },
            { name: 'Calendar', glyph: 'e787' },
            { name: 'Page', glyph: 'e7c3' },
            { name: 'NewFolder', glyph: 'e8f4' },
            { name: 'OpenLocal', glyph: 'e8da' },
            { name: 'Settings', glyph: 'e713' }
        ];
    </script>
    <script src="src/js/fluent-navigation-view.js"></script>
    <script>
        var navigationView;
        var debug;

        document.addEventListener('DOMContentLoaded', e => {
            navigationView = document.querySelector('#navigation_view');
            debug = document.querySelector('#debug');
            
            navigationView.addEventListener('selectionchanged', e => {
                var args = e.detail.args;
                navigationView.setAttribute('header', args.isSettingsSelected ? 'Settings' : args.selectedItem.tag);
            });

            const displayModes = document.querySelectorAll('input[name=paneDisplayMode');
            const paneTitleIpt = document.querySelector('input[name=paneTitle]');
            const toggleHeaderBtn = document.querySelector('#toggle_header');
            const toggleSettingsBtn = document.querySelector('#toggle_settings');
            
            var alwaysShowHeader = true;
            var isSettingsVisible = true;

            // Pane display mode.
            for (const option of displayModes)
            {
                option.addEventListener('change', () => {
                    for (const option of displayModes)
                    {
                        if(option.checked)
                        {
                            navigationView.setAttribute('pane-display-mode', option.value);
                            break;
                        }
                    }
                });
            }

            paneTitleIpt.addEventListener('input', () => {
                navigationView.setAttribute('pane-title', paneTitleIpt.value);
            });

            toggleHeaderBtn.addEventListener('click', () => {
                alwaysShowHeader = !alwaysShowHeader;

                toggleHeaderBtn.innerHTML = `Toggle Header: ${alwaysShowHeader.toString().toUpperCase()}`;
                navigationView.toggleAttribute('always-show-header', alwaysShowHeader);
            });

            toggleSettingsBtn.addEventListener('click', () => {
                isSettingsVisible = !isSettingsVisible;

                toggleSettingsBtn.innerHTML = `Toggle Header: ${isSettingsVisible.toString().toUpperCase()}`;
                navigationView.toggleAttribute('is-settings-visible', isSettingsVisible);
            });
        });
    </script>
</html>